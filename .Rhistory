library(usethis)
library(devtools)
library(roxygen2)
use_data()
bulkdata <- readRDS("~/work/scPharm/data/bulkdata.rds")
rm(bulkdata)
bulkdata <- readRDS("~/work/scPharm/info/bulkdata.rds")
View(bulkdata)
use_data(bulkdata)
gdscdata = readxl::read_xlsx("../../scPharm/info/GDSC2_fitted_dose_response_24Jul22.xlsx")
View(gdscdata)
gdscdata = gdscdata[gdscdata$TCGA_DESC != "UNCLASSIFIED",]
use_data(gdscdata)
drug_id <- GDSC[,c(8,9,10,11)]
drug_id <- gdscdata[,c(8,9,10,11)]
drug_id <- drug_id[!duplicated(drug_id$DRUG_ID),]
drug_id <<- drug_id %>%
filter(!if_all(.fns = is.na))
library(dplyr)
drug_id <<- drug_id %>%
filter(!if_all(.fns = is.na))
drug_info = drug_id
rm(drug_id)
use_data(drug_info)
rm(list = ls())
library(devtools)
library(roxygen2)
document()
document()
document()
document()
document()
use_mit_license()
document()
document()
document()
person(given = "Peng", family = "Tian", email = "2131443@tongji.edu.cn", role = c("aut","cre"))
document()
build()
install.packages("~/work/package/scPharm_0.0.0.9000.tar.gz", repos = NULL, type = "source")
library(devtools)
build()
install.packages("~/work/package/scPharm_0.0.0.9000.tar.gz", repos = NULL, type = "source")
remove.packages(scPharm)
build()
library(devtools)
build()
load_all()
ESCA_scPharm_object_nmcs_50_nfs_200 <- readRDS("~/work/scPharm/result/ESCA_scPharm_object_nmcs_50_nfs_200.rds")
result <- scPharmIdentify(ESCA_scPharm_object_nmcs_50_nfs_200, type="cellline", cancer = "ESCA")
?GetAssayData
build()
load_all()
test = ESCA_scPharm_object_nmcs_50_nfs_200
rm(ESCA_scPharm_object_nmcs_50_nfs_200)
test@meta.data = test@meta.data[,1:3]
result <- scPharmIdentify(test, type="cellline", cancer = "ESCA")
%>%
load_all()
load_all()
result <- scPharmIdentify(test, type="cellline", cancer = "ESCA")
test <- readRDS("~/work/scPharm/result/MH0126_scPharm_object_nmcs_50_nfs_200.rds")
result = scPharmDr(test)
View(result)
combo = scPharmCombo(test, result)
combo = scPharmCombo(test, result)
View(test)
load_all()
combo = scPharmCombo(test, result)
View(combo)
combo = scPharmCombo(test, result, topN = 3)
View(combo)
Dse = scPharmDse(test)
View(Dse)
rm(list=ls())
build()
build()
build()
sessionInfo()
install.packages("~/work/package/scPharm_1.0.0.tar.gz", repos = NULL, type = "source")
remove.packages(scPharm)
remove.packages("scPharm")
devtools::build()
devtools::install_github("WangHYLab/scPharm")
devtools::install_github("WangHYLab/scPharm")
devtools::install_github("WangHYLab/scPharm")
devtools::install_github("WangHYLab/scPharm")
devtools::build()
devtools::build()
devtools::load_all()
devtools::load_all()
devtools::load_all()
devtools::build()
devtools::build()
devtools::build()
devtools::build()
devtools::build()
devtools::build()
devtools::build()
devtools::build()
usethis::use_package(package = "ggtheme", type = "Imports")
usethis::use_package(package = "ggthemes", type = "Imports")
usethis::use_package(package = "ggthemes", type = "Imports")
install.packages("~/work/package/scPharm_1.0.1.tar.gz", repos = NULL, type = "source")
devtools::build()
usethis::use_mit_license()
library(devtools)
library(roxygen2)
document()
build()
person("Peng", "Tian", email = "2131443@tongji.edu.cn",role = c("aut", "cre"))
check()
??CreateDimReducObject
check()
check()
check()
load("~/work/package/scPharm/data/bulkdata.rda")
load("~/work/package/scPharm/data/gdscdata.rda")
load("~/work/package/scPharm/data/drug_info.rda")
check()
check()
check()
check()
check()
check()
check()
library(Seurat)
pbmc_small
?pbmc_small
check()
?Seurat::AddMetaData()
?Seurat::RunPCA
check()
check(document = FALSE)
check(document = FALSE,args = "--no-examples")
check(document = FALSE,args = "--no-examples")
document()
install()
library(scPharm)
test = scPharmIdentify(pbmc_small, type = "cellline", cancer = "LUAD", drug = "Afatinib")
test = scPharmIdentify(pbmc_small, type = "cellline", cancer = "LUAD")
library(Seurat)
test = scPharmIdentify(pbmc_small, type = "cellline", cancer = "LUAD", drug = "Afatinib")
test = scPharmIdentify(pbmc_small, type = "cellline", cancer = "LUAD", drug = "Erlotinib")
GDSC = data('gdscdata')
data('gdscdata')
data("bulkdata")
force(bulkdata)
data('gdscdata')
data("bulkdata")
data('gdscdata')
data('gdscdata')
data("bulkdata")
test = scPharmIdentify(pbmc_small, type = "cellline", cancer = "LUAD", drug = "Erlotinib")
View(gdscdata)
remove.packages("scPharm")
document()
install()
library(scPharm)
test = scPharmIdentify(pbmc_small, type = "cellline", cancer = "LUAD", drug = "Erlotinib")
View(test)
check()
document()
document()
build()
document()
build()
check()
build()
load("~/work/package/scPharm/data/bulkdata.rda")
remove.packages("scPharm")
remove.packages("scPharm")
remotes::install_github("WangHYLab/scPharm", dependencies = T)
remotes::install_github("WangHYLab/scPharm", dependencies = T)
remotes::install_github("WangHYLab/scPharm", dependencies = T)
remotes::install_github("WangHYLab/scPharm", dependencies = T)
remotes::install_github("WangHYLab/scPharm", dependencies = T)
?data
library(devtools)
check()
build()
devtools::document()
check()
devtools::check()
devtools::check()
devtools::build_rmd()
install.packages("styler")
styler::style_pkg()
install.packages("lintr")
lintr::lint_package()
devtools::check()
devtools::build()
